# ============================================
# application.properties
# Fichier de configuration principal de l'application
# ============================================

# Configuration de l'application
spring.application.name=bdcc-ai-app
server.port=8080

# ============================================
# CONFIGURATION OLLAMA
# ============================================

# URL de base d'Ollama (doit être démarré localement)
# Par défaut, Ollama écoute sur le port 11434
spring.ai.ollama.base-url=http://localhost:11434

# Modèle à utiliser
# Options populaires: llama2, mistral, codellama, llama3, phi, gemma
spring.ai.ollama.chat.options.model=llama3.2

# Température de génération
# 0.0 = réponses déterministes et précises
# 1.0 = réponses créatives et variées
spring.ai.ollama.chat.options.temperature=0.7

# Nombre maximum de tokens à générer
spring.ai.ollama.chat.options.max-tokens=2000

# ============================================
# DÉSACTIVER OPENAI (si non utilisé)
# ============================================
# Désactive l'auto-configuration d'OpenAI
spring.ai.openai.api-key=
spring.autoconfigure.exclude=org.springframework.ai.autoconfigure.openai.OpenAiAutoConfiguration


# ============================================
# CONFIGURATION BASE DE DONNÉES H2
# ============================================

# URL de la base de données en mémoire
spring.datasource.url=jdbc:h2:mem:ollama_db

# Driver JDBC
spring.datasource.driverClassName=org.h2.Driver

# Identifiants de connexion
spring.datasource.username=sa
spring.datasource.password=

# Dialecte Hibernate pour H2
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Activer la console H2 (accessible via http://localhost:8080/h2-console)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# Stratégie de génération du schéma
# create: supprime et recrée les tables à chaque démarrage
# update: met à jour le schéma sans supprimer les données
# validate: vérifie que le schéma correspond aux entités
spring.jpa.hibernate.ddl-auto=update

# Afficher les requêtes SQL dans les logs
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ============================================
# CONFIGURATION DES LOGS
# ============================================

# Niveau de log global
logging.level.root=INFO

# Niveau de log pour l'application
logging.level.ma.saifdine.hd=DEBUG

# Niveau de log pour Spring AI
logging.level.org.springframework.ai=DEBUG

# Niveau de log pour Hibernate
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ============================================
# CONFIGURATION CORS (pour les applications frontend)
# ============================================

# Autoriser toutes les origines (à restreindre en production)
spring.web.cors.allowed-origins=*
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*

# ============================================
# CONFIGURATION ADDITIONNELLE
# ============================================

# Taille maximale des fichiers uploadés (si besoin)
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Format de date JSON
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.date-format=yyyy-MM-dd'T'HH:mm:ss

# ============================================
# PROFILS (optionnel)
# ============================================

# Profil actif (dev, test, prod)
# spring.profiles.active=dev